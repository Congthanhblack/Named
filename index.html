<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HPH Security Control | Hệ Thống Giám Sát Hải Phòng</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Space+Mono:wght@400;700&display=swap');

        body {
            background-color: #010409;
            color: #00ff41; /* Màu xanh terminal kinh điển */
            font-family: 'Space Mono', monospace;
            overflow: hidden;
        }

        .cyber-panel {
            background: rgba(1, 4, 9, 0.9);
            border: 1px solid #004411;
            position: relative;
        }

        .glitch-text { animation: pulse 2s infinite; }
        @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.5; } }

        .map-grid {
            background-image: radial-gradient(#004411 1px, transparent 1px);
            background-size: 20px 20px;
        }

        .status-valid { color: #00ff41; text-shadow: 0 0 5px #00ff41; }
        .status-invalid { color: #ff0000; text-shadow: 0 0 5px #ff0000; }
    </style>
</head>
<body>

    <div id="login-container" class="h-screen flex items-center justify-center bg-black">
        <div class="w-[400px] cyber-panel p-8 border-t-4 border-t-green-600">
            <div class="text-center mb-6">
                <i class="fas fa-shield-virus text-4xl mb-2"></i>
                <h2 class="text-lg font-bold tracking-tighter uppercase">Xác thực Định danh HPH-SOC</h2>
                <div class="h-1 w-full bg-green-900 mt-2">
                    <div id="load-bar" class="h-full bg-green-400 transition-all duration-300" style="width: 0%"></div>
                </div>
            </div>

            <form id="auth-form" class="space-y-4">
                <input type="text" id="user" placeholder="Mã vận hành (Operator ID)" required class="w-full bg-black border border-green-900 p-3 outline-none focus:border-green-400 text-sm">
                <input type="password" id="pass" placeholder="Mật mã Cipher" required class="w-full bg-black border border-green-900 p-3 outline-none focus:border-green-400 text-sm">
                <button class="w-full bg-green-800 hover:bg-green-600 text-black font-bold py-3 transition-all uppercase text-sm">Gửi Yêu Cầu Truy Cập</button>
            </form>
            
            <p class="text-[9px] mt-4 text-green-900 text-center italic">Cảnh báo: Mọi phiên truy cập được ghi lại bởi Máy chủ Công an TP. Hải Phòng</p>
        </div>
    </div>

    <div id="main-system" class="hidden h-screen flex flex-col p-2 space-y-2">
        
        <header class="h-12 cyber-panel flex items-center justify-between px-4 border-b-2 border-green-600">
            <div class="flex items-center space-x-4">
                <span class="font-bold text-sm tracking-widest">HPH_SEC_V5.0</span>
                <span class="text-[10px] bg-green-900 text-black px-2 py-0.5 font-bold">NODE: HẢI PHÒNG (CAT BI)</span>
            </div>
            <div class="text-[11px] space-x-6">
                <span>USER: <span id="display-user">ADMIN</span></span>
                <span>IP: <span id="display-ip">14.226.x.x</span></span>
                <span class="text-green-300" id="clock">00:00:00</span>
            </div>
        </header>

        <div class="flex-1 flex space-x-2 overflow-hidden">
            
            <div class="w-1/4 flex flex-col space-y-2">
                <div class="flex-1 cyber-panel p-3">
                    <h3 class="text-[10px] border-b border-green-900 pb-1 mb-2">THIẾT BỊ TRUY CẬP</h3>
                    <div class="space-y-2 text-[11px]">
                        <div class="flex justify-between"><span>Địa chỉ MAC:</span><span id="mac-val">00:1A:2B:3C:4D:5E</span></div>
                        <div class="flex justify-between"><span>Tình trạng MAC:</span><span id="mac-status" class="status-valid">HỢP LỆ</span></div>
                        <div class="flex justify-between"><span>Tọa độ truy cập:</span><span>20.84°N 106.68°E</span></div>
                    </div>
                    
                    <h3 class="text-[10px] border-b border-green-900 pb-1 mt-6 mb-2">QUÉT CỔNG DỮ LIỆU</h3>
                    <div class="grid grid-cols-5 gap-1">
                        <div class="h-4 bg-green-900/50 border border-green-500 animate-pulse"></div>
                        <div class="h-4 bg-green-900/50 border border-green-500"></div>
                        <div class="h-4 bg-red-900/50 border border-red-500"></div>
                        <div class="h-4 bg-green-900/50 border border-green-500 animate-pulse"></div>
                        <div class="h-4 bg-green-900/50 border border-green-500"></div>
                    </div>
                </div>
                <div class="h-1/3 cyber-panel p-3 map-grid relative">
                    <div class="absolute inset-0 flex items-center justify-center">
                        <span class="text-[10px] bg-black/80 p-1 border border-green-500">VỊ TRÍ: CẢNG ĐÌNH VŨ</span>
                    </div>
                </div>
            </div>

            <div class="flex-1 cyber-panel relative map-grid">
                <div class="absolute top-2 right-2 text-[10px] text-right">
                    <p class="text-red-500 font-bold glitch-text">!!! CẢNH BÁO XÂM NHẬP PORT 443 !!!</p>
                    <p>PHÂN KHU: QUẬN HỒNG BÀNG</p>
                </div>
                <div class="flex items-center justify-center h-full">
                    <div class="w-64 h-64 border-4 border-green-900 rounded-full flex items-center justify-center relative">
                        <div class="w-full h-1 bg-green-500/20 absolute animate-spin" style="transform-origin: center;"></div>
                        <i class="fas fa-crosshairs text-4xl opacity-20"></i>
                    </div>
                </div>
            </div>

            <div class="w-1/4 cyber-panel p-3 flex flex-col">
                <h3 class="text-[10px] border-b border-green-900 pb-1 mb-2">NHẬT KÝ HỆ THỐNG</h3>
                <div id="log-box" class="flex-1 text-[9px] overflow-y-auto space-y-1 font-mono">
                    </div>
            </div>

        </div>

        <footer class="h-8 cyber-panel flex items-center justify-between px-4 text-[9px]">
            <div class="flex space-x-4">
                <span>CPU: 14%</span>
                <span>RAM: 2.4GB / 16GB</span>
                <span>DATA RATE: 450 Mbps</span>
            </div>
            <div class="uppercase tracking-widest text-green-700">Chỉ dành cho mục đích giám sát quốc gia</div>
        </footer>
    </div>

    <script>
        const authForm = document.getElementById('auth-form');
        const loginContainer = document.getElementById('login-container');
        const mainSystem = document.getElementById('main-system');
        const loadBar = document.getElementById('load-bar');
        const logBox = document.getElementById('log-box');

        // Giả lập lấy thông tin người dùng
        const userIntel = {
            ip: "27.67.12.184", // Một dải IP thực tại Hải Phòng
            mac: "E4:5F:01:A2:B4:88",
            isValid: true
        };

        // Đồng hồ
        setInterval(() => {
            document.getElementById('clock').innerText = new Date().toLocaleTimeString('vi-VN');
        }, 1000);

        function pushLog(text, type = 'info') {
            const div = document.createElement('div');
            div.className = type === 'alert' ? 'text-red-500' : 'text-green-700';
            div.innerHTML = `> [${new Date().toLocaleTimeString()}] ${text}`;
            logBox.appendChild(div);
            logBox.scrollTop = logBox.scrollHeight;
        }

        authForm.addEventListener('submit', (e) => {
            e.preventDefault();
            const username = document.getElementById('user').value;
            
            // Chạy thanh loading
            let progress = 0;
            const interval = setInterval(() => {
                progress += 5;
                loadBar.style.width = progress + '%';
                if (progress >= 100) {
                    clearInterval(interval);
                    enterSystem(username);
                }
            }, 50);
        });

        function enterSystem(username) {
            loginContainer.classList.add('hidden');
            mainSystem.classList.remove('hidden');
            
            document.getElementById('display-user').innerText = username.toUpperCase();
            document.getElementById('display-ip').innerText = userIntel.ip;
            document.getElementById('mac-val').innerText = userIntel.mac;

            // Kiểm tra MAC giả lập
            if(userIntel.isValid) {
                pushLog("Xác thực thiết bị thành công.", 'info');
            } else {
                document.getElementById('mac-status').innerText = "KHÔNG XÁC ĐỊNH";
                document.getElementById('mac-status').className = "status-invalid";
                pushLog("CẢNH BÁO: Thiết bị lạ truy cập!", 'alert');
            }

            pushLog(`Khởi tạo Node: Hải Phòng - Trạm phát Cat Bi.`);
            pushLog(`Đang kết nối cơ sở dữ liệu Cảng Đình Vũ...`);
            
            // Chạy logs giả lập
            setInterval(() => {
                const events = [
                    "Đang quét lưu lượng tại Cầu Bính...",
                    "Kết nối ổn định với trung tâm điều hành Hà Nội.",
                    "Phát hiện truy cập trái phép từ IP 103.x.x.x (Đã chặn)",
                    "Kiểm tra hệ thống camera khu vực Quận Đồ Sơn...",
                    "Đồng bộ dữ liệu mã hóa AES-256 hoàn tất."
                ];
                pushLog(events[Math.floor(Math.random() * events.length)]);
            }, 4000);
        }
    </script>
</body>
</html>
