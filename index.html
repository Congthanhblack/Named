<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HPH Intelligence | Haiphong Security Core</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@500;800&display=swap');

        body {
            background-color: #000501;
            color: #00ff41;
            font-family: 'JetBrains Mono', monospace;
            overflow: hidden;
            height: 100vh;
            user-select: none; /* Ngăn bôi đen để giống app native */
        }

        /* Khung viền Cyber */
        .cyber-panel {
            background: rgba(1, 10, 2, 0.95);
            border: 1px solid #003300;
            box-shadow: 0 0 10px rgba(0, 255, 65, 0.05);
            position: relative;
        }

        /* Hiệu ứng nhiễu sóng (Static Noise) */
        .static-noise {
            background: url('https://media.giphy.com/media/oEI9uWUicnclO/giphy.gif');
            background-size: cover;
            opacity: 0.1;
            mix-blend-mode: overlay;
            pointer-events: none;
        }

        /* Camera Grid Styles */
        .cam-grid-item {
            position: relative;
            background: #000;
            border: 1px solid #002208;
            aspect-ratio: 16/9;
            overflow: hidden;
            transition: all 0.2s;
        }
        .cam-grid-item:hover { border-color: #00ff41; z-index: 10; transform: scale(1.02); }

        .status-overlay {
            position: absolute; inset: 0;
            display: flex; flex-direction: column;
            align-items: center; justify-content: center;
            background: rgba(0,0,0,0.7); z-index: 5;
            backdrop-filter: blur(2px);
        }

        /* Terminal Input */
        .terminal-input {
            background: transparent; border: none; outline: none;
            color: #fff; width: 100%; font-family: inherit;
        }

        /* Login Screen Animation */
        .scan-line {
            width: 100%; height: 2px; background: #00ff41;
            position: absolute; animation: scan 3s linear infinite; opacity: 0.3;
        }
        @keyframes scan { 0% {top: 0%} 100% {top: 100%} }

        .blink { animation: blinker 1s linear infinite; }
        @keyframes blinker { 50% { opacity: 0; } }
        
        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 4px; }
        ::-webkit-scrollbar-track { background: #001100; }
        ::-webkit-scrollbar-thumb { background: #004400; }
        ::-webkit-scrollbar-thumb:hover { background: #00ff41; }
    </style>
</head>
<body>

    <div id="login-layer" class="fixed inset-0 z-50 bg-black flex flex-col items-center justify-center">
        <div class="scan-line"></div>
        <div class="w-[450px] cyber-panel p-8 border-t-4 border-t-green-600 relative">
            <div class="absolute top-0 left-0 w-4 h-4 border-t border-l border-green-500"></div>
            <div class="absolute bottom-0 right-0 w-4 h-4 border-b border-r border-green-500"></div>

            <div class="text-center mb-8">
                <i class="fas fa-network-wired text-4xl text-green-600 mb-4 animate-pulse"></i>
                <h1 class="text-xl font-bold tracking-[0.3em] text-white uppercase">HPH-SOC ACCESS</h1>
                <p class="text-[10px] text-green-800 mt-2">Cổng truy cập bảo mật - Khu vực Hải Phòng</p>
            </div>

            <div class="mb-6 p-3 bg-green-900/10 border border-green-900 flex justify-between items-center text-[10px]">
                <span class="text-green-600">STATIC IP DETECTED:</span>
                <span class="text-white font-bold tracking-widest">14.226.55.184 <i class="fas fa-check-circle ml-1"></i></span>
            </div>

            <form id="login-form" class="space-y-4">
                <div class="relative">
                    <i class="fas fa-user absolute left-3 top-3 text-green-700 text-xs"></i>
                    <input type="text" id="username" class="w-full bg-black border border-green-900 py-2 pl-8 pr-4 text-sm text-green-400 focus:border-green-500 outline-none uppercase placeholder-green-900" placeholder="IDENTIFICATION ID" value="ADMIN_HPH_01">
                </div>
                <div class="relative">
                    <i class="fas fa-key absolute left-3 top-3 text-green-700 text-xs"></i>
                    <input type="password" id="password" class="w-full bg-black border border-green-900 py-2 pl-8 pr-4 text-sm text-green-400 focus:border-green-500 outline-none placeholder-green-900" placeholder="SECURE CODE">
                </div>
                <button type="submit" class="w-full bg-green-700 hover:bg-green-600 text-black font-bold py-3 uppercase tracking-widest text-xs transition-colors">
                    <i class="fas fa-unlock mr-2"></i> Xác thực & Kết nối
                </button>
            </form>
            
            <div id="login-msg" class="h-4 mt-2 text-[10px] text-center text-red-500 font-bold"></div>
        </div>
        <div class="mt-4 text-[9px] text-green-900 uppercase tracking-widest">© Ban Cơ Yếu - An Ninh Mạng Hải Phòng 2026</div>
    </div>

    <div id="dashboard" class="hidden flex flex-col h-screen p-2 space-y-2 relative">
        <div class="static-noise absolute inset-0 z-0"></div>

        <header class="h-12 cyber-panel flex items-center justify-between px-4 z-10 border-b border-green-600/50 bg-black/80">
            <div class="flex items-center space-x-6">
                <div class="flex flex-col">
                    <span class="text-[10px] text-green-600 uppercase leading-none">Login Session</span>
                    <span class="text-[11px] text-white font-bold tracking-widest">14.226.55.184</span>
                </div>
                <div class="h-8 w-[1px] bg-green-900"></div>
                <div class="flex space-x-1">
                    <button class="px-3 py-1 bg-green-900/30 border border-green-600 text-[10px] text-white font-bold uppercase hover:bg-green-700 transition">Toàn TP</button>
                    <button class="px-3 py-1 bg-black border border-green-900 text-[10px] text-green-600 uppercase hover:text-white transition">Đồ Sơn</button>
                    <button class="px-3 py-1 bg-black border border-green-900 text-[10px] text-green-600 uppercase hover:text-white transition">Thủy Nguyên</button>
                </div>
            </div>
            
            <div class="text-right">
                <div class="flex items-center justify-end space-x-2">
                    <span class="w-2 h-2 bg-red-500 rounded-full animate-pulse"></span>
                    <span id="clock" class="text-sm font-bold text-white shadow-green">00:00:00</span>
                </div>
                <p class="text-[8px] uppercase text-green-800">Uptime: 412h 15m 33s</p>
            </div>
        </header>

        <div class="flex-1 flex space-x-2 overflow-hidden z-10">
            
            <div class="w-1/4 flex flex-col space-y-2">
                <div class="flex-1 cyber-panel p-3 flex flex-col bg-black/80">
                    <div class="flex justify-between items-center border-b border-green-900 pb-2 mb-2">
                        <h3 class="text-[10px] font-bold uppercase tracking-widest text-green-500"><i class="fas fa-list-ul mr-1"></i> Nhật ký hệ thống</h3>
                        <span class="text-[9px] text-green-800 blink">LIVE</span>
                    </div>
                    <div id="log-box" class="flex-1 text-[10px] space-y-1.5 overflow-y-auto font-mono opacity-90 pr-1">
                        </div>
                </div>

                <div class="h-32 cyber-panel p-3 border-l-4 border-l-blue-600 bg-black/90 flex flex-col">
                    <div class="flex justify-between text-[9px] text-blue-500 mb-1 uppercase font-bold">
                        <span><i class="fas fa-terminal mr-1"></i> Command Line</span>
                        <span>v2.4.0</span>
                    </div>
                    <div class="flex-1 bg-blue-900/5 p-2 font-mono text-[10px] overflow-hidden">
                        <div id="terminal-history" class="text-blue-300 opacity-70 mb-1"></div>
                        <div class="flex">
                            <span class="text-blue-500 mr-2">root@hph_soc:~#</span>
                            <input type="text" id="cli-input" class="terminal-input" placeholder="..." autocomplete="off">
                        </div>
                    </div>
                </div>
            </div>

            <div class="flex-1 cyber-panel p-2 flex flex-col bg-black/50">
                <div class="grid grid-cols-4 gap-2 flex-1 overflow-y-auto pr-1" id="camera-grid">
                    </div>
                
                <div class="h-6 mt-2 flex items-center justify-between text-[9px] uppercase border-t border-green-900/50 pt-1">
                    <span class="text-green-700">Bandwidth: 2.4 GB/s</span>
                    <span class="text-red-500 font-bold"><i class="fas fa-exclamation-triangle mr-1"></i> 3 Nút giao mất tín hiệu</span>
                    <span class="text-green-700">Encryption: AES-256</span>
                </div>
            </div>
        </div>
    </div>

    <script>
        // --- AUDIO SYSTEM ---
        const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
        function playSound(type) {
            if (audioCtx.state === 'suspended') audioCtx.resume();
            const oscillator = audioCtx.createOscillator();
            const gainNode = audioCtx.createGain();
            oscillator.connect(gainNode);
            gainNode.connect(audioCtx.destination);

            if (type === 'beep') { // Typing sound
                oscillator.type = 'sine';
                oscillator.frequency.setValueAtTime(800, audioCtx.currentTime);
                gainNode.gain.setValueAtTime(0.05, audioCtx.currentTime);
                oscillator.start();
                oscillator.stop(audioCtx.currentTime + 0.05);
            } else if (type === 'alert') { // Error sound
                oscillator.type = 'sawtooth';
                oscillator.frequency.setValueAtTime(150, audioCtx.currentTime);
                gainNode.gain.setValueAtTime(0.1, audioCtx.currentTime);
                oscillator.start();
                oscillator.stop(audioCtx.currentTime + 0.3);
            } else if (type === 'access') { // Login sound
                oscillator.type = 'square';
                oscillator.frequency.setValueAtTime(400, audioCtx.currentTime);
                oscillator.frequency.exponentialRampToValueAtTime(1200, audioCtx.currentTime + 0.2);
                gainNode.gain.setValueAtTime(0.1, audioCtx.currentTime);
                oscillator.start();
                oscillator.stop(audioCtx.currentTime + 0.3);
            }
        }

        // --- DATA & DOM ---
        const loginLayer = document.getElementById('login-layer');
        const dashboard = document.getElementById('dashboard');
        const loginForm = document.getElementById('login-form');
        const logBox = document.getElementById('log-box');
        const cliInput = document.getElementById('cli-input');
        const camGrid = document.getElementById('camera-grid');

        // Danh sách Camera Hải Phòng
        const cameras = [
            { name: "01_CAU_BINH", type: "live", img: "https://images.unsplash.com/photo-1545147986-a9d6f210df77?w=400&q=50" },
            { name: "02_LACH_TRAY", type: "live", img: "https://images.unsplash.com/photo-1542362567-b055002b91f4?w=400&q=50" },
            { name: "03_DINH_VU_PORT", type: "denied" },
            { name: "04_TO_HIEU", type: "live", img: "https://images.unsplash.com/photo-1573103662264-0797302f37c2?w=400&q=50" },
            { name: "05_CAU_RAO_2", type: "static" },
            { name: "06_QUAN_TOAN", type: "live", img: "https://images.unsplash.com/photo-1519003722824-194d4455a60c?w=400&q=50" },
            { name: "07_DO_SON_SEC", type: "encrypted" },
            { name: "08_LE_CHAN", type: "live", img: "https://images.unsplash.com/photo-1493946747714-751e84443bd1?w=400&q=50" },
            { name: "09_KIEN_AN", type: "static" },
            { name: "10_THUY_NGUYEN", type: "denied" },
            { name: "11_NGA_6_MAY_TO", type: "live", img: "https://images.unsplash.com/photo-1480714378408-67cf0d13bc1b?w=400&q=50" },
            { name: "12_CAO_TOC_HP", type: "live", img: "https://images.unsplash.com/photo-1470290449668-02dd93d9420a?w=400&q=50" }
        ];

        // --- INITIALIZATION ---
        function initCameras() {
            camGrid.innerHTML = '';
            cameras.forEach(cam => {
                let content = '';
                if (cam.type === 'live') {
                    content = `
                        <div class="cam-label text-[8px] absolute top-1 left-1 z-10 bg-black/80 px-2 py-0.5 border-l-2 border-green-500">${cam.name}</div>
                        <div class="absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full animate-pulse z-10"></div>
                        <img src="${cam.img}" class="w-full h-full object-cover grayscale opacity-50 hover:opacity-100 transition duration-500">
                    `;
                } else if (cam.type === 'denied') {
                    content = `
                        <div class="status-overlay bg-red-950/60">
                            <i class="fas fa-hand-paper text-red-500 text-2xl mb-2"></i>
                            <span class="text-red-500 text-[9px] font-bold">ACCESS DENIED</span>
                            <span class="text-[7px] text-red-300 italic mt-1">IP 14.226.x.x Blocked</span>
                        </div>
                    `;
                } else if (cam.type === 'static') {
                    content = `
                        <div class="cam-label text-[8px] absolute top-1 left-1 z-10 bg-black/80 px-2 py-0.5 text-yellow-500">${cam.name}</div>
                        <div class="static-noise absolute inset-0 opacity-40"></div>
                        <div class="status-overlay"><span class="text-[8px] text-yellow-500 font-mono blink">NO SIGNAL</span></div>
                    `;
                } else { // Encrypted
                    content = `
                        <div class="status-overlay bg-blue-950/40">
                            <i class="fas fa-fingerprint text-blue-400 text-2xl mb-2"></i>
                            <span class="text-blue-400 text-[9px] font-bold">ENCRYPTED STREAM</span>
                        </div>
                    `;
                }
                
                const div = document.createElement('div');
                div.className = 'cam-grid-item';
                div.innerHTML = content;
                camGrid.appendChild(div);
            });
        }

        function addLog(msg, color = 'text-green-400') {
            const time = new Date().toLocaleTimeString('vi-VN');
            const div = document.createElement('div');
            div.className = `${color} border-l border-green-900 pl-2 hover:bg-white/5 transition`;
            div.innerHTML = `<span class="opacity-50 text-[8px] mr-2">[${time}]</span>${msg}`;
            logBox.appendChild(div);
            logBox.scrollTop = logBox.scrollHeight;
        }

        // --- EVENTS ---
        
        // Xử lý Login
        loginForm.addEventListener('submit', (e) => {
            e.preventDefault();
            const btn = loginForm.querySelector('button');
            const pass = document.getElementById('password').value;
            
            playSound('beep');

            if(pass.length < 1) {
                document.getElementById('login-msg').innerText = "Vui lòng nhập mật mã!";
                playSound('alert');
                return;
            }

            btn.innerHTML = `<i class="fas fa-circle-notch fa-spin mr-2"></i> ĐANG GIẢI MÃ RSA-4096...`;
            
            setTimeout(() => {
                playSound('access');
                loginLayer.style.opacity = '0';
                setTimeout(() => {
                    loginLayer.style.display = 'none';
                    dashboard.classList.remove('hidden');
                    initDashboard();
                }, 500);
            }, 1500);
        });

        function initDashboard() {
            initCameras();
            addLog("Khởi tạo phiên làm việc: ADMIN_HPH_01", "text-white font-bold");
            addLog("Kết nối máy chủ: Haiphong_Core_V9 [OK]");
            addLog("Xác thực dải IP tĩnh 14.226.55.184 thành công.");
            
            // Random Logs Loop
            setInterval(() => {
                const logs = [
                    "Đang phân tích lưu lượng tại ngã 4 Quán Toan...",
                    "CẢNH BÁO: Phát hiện xe vượt đèn đỏ (Cam_02)",
                    "Kiểm tra tính toàn vẹn dữ liệu... 100%",
                    "Node Đồ Sơn gửi yêu cầu xác thực lại.",
                    "Lưu lượng mạng ổn định: 1.2Gbps"
                ];
                const rand = logs[Math.floor(Math.random() * logs.length)];
                const color = rand.includes("CẢNH BÁO") ? "text-red-500 font-bold" : "text-green-400";
                addLog(rand, color);
                if(rand.includes("CẢNH BÁO")) playSound('alert');
            }, 4000);
        }

        // Xử lý Terminal
        cliInput.addEventListener('keydown', (e) => {
            playSound('beep');
            if (e.key === 'Enter') {
                const cmd = cliInput.value.trim().toLowerCase();
                if(!cmd) return;
                
                addLog(`root@hph_soc:~# ${cmd}`, "text-blue-400");
                
                if (cmd === 'fix' || cmd === 'fix system') {
                    addLog("Đang chạy chẩn đoán toàn hệ thống...", "text-yellow-400");
                    setTimeout(() => addLog("Phát hiện lỗi tại Node Cầu Rào 2. Đang vá...", "text-yellow-400"), 1000);
                    setTimeout(() => {
                        addLog("Hệ thống đã được khôi phục!", "text-white font-bold");
                        playSound('access');
                    }, 2500);
                } else if (cmd === 'clear') {
                    logBox.innerHTML = '';
                    addLog("Đã xóa nhật ký.", "text-gray-500");
                } else if (cmd === 'help') {
                    addLog("Các lệnh khả dụng: fix, clear, status, reboot", "text-gray-400");
                } else {
                    addLog(`Lệnh '${cmd}' không tồn tại.`, "text-red-500");
                    playSound('alert');
                }
                
                cliInput.value = '';
            }
        });

        // Clock
        setInterval(() => {
            document.getElementById('clock').innerText = new Date().toLocaleTimeString('vi-VN');
        }, 1000);

    </script>
</body>
</html>
