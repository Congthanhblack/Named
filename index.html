<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HPH-SOC // HỆ THỐNG GIÁM SÁT TẬP TRUNG</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&family=Times+New+Roman:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body { background-color: #050505; color: #00ff41; font-family: 'JetBrains Mono', monospace; overflow: hidden; height: 100vh; width: 100vw; }
        
        .cyber-border { 
            border: 1px solid #004411; 
            background: rgba(0, 10, 0, 0.95); 
            box-shadow: 0 0 5px rgba(0, 255, 65, 0.1);
        }
        
        .glitch-bg { 
            background: repeating-linear-gradient(0deg, transparent, transparent 2px, #001100 2px, #001100 4px);
        }

        ::-webkit-scrollbar { width: 4px; }
        ::-webkit-scrollbar-track { background: #001100; }
        ::-webkit-scrollbar-thumb { background: #004411; }

        /* GRID CHUẨN IOC CHUYÊN NGHIỆP */
        .camera-grid-layout {
            display: grid !important;
            grid-template-columns: repeat(4, 1fr) !important;
            grid-template-rows: repeat(3, 1fr) !important;
            gap: 6px;
        }

        .cam-slot {
            position: relative;
            background: #000;
            border: 1px solid #112211;
            aspect-ratio: 16 / 9;
            overflow: hidden;
            transition: all 0.2s;
        }
        .cam-slot:hover { border-color: #00ff41; z-index: 10; transform: scale(1.01); }

        /* BẢNG THÔNG BÁO VĂN BẢN THỰC TẾ */
        .gov-paper {
            background: #fff; color: #000; font-family: 'Times New Roman', serif;
            max-width: 750px; width: 95%; padding: 40px 50px;
            border: 1px solid #000; outline: 6px double #b91c1c; outline-offset: -15px;
            box-shadow: 0 0 100px rgba(0,0,0,0.9);
            position: relative;
        }

        .blink { animation: blinker 1.5s linear infinite; }
        @keyframes blinker { 50% { opacity: 0; } }
        
        .tab-btn {
            background: #001100; border: 1px solid #004411; color: #006622;
            transition: all 0.2s; font-size: 11px; text-transform: uppercase; font-weight: bold;
        }
        .tab-btn.active { background: #004411; color: #fff; border-color: #00ff41; }

        .no-signal-overlay {
            background: linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.25) 50%), 
                        linear-gradient(90deg, rgba(255, 0, 0, 0.06), rgba(0, 255, 0, 0.02), rgba(0, 0, 255, 0.06));
            background-size: 100% 2px, 3px 100%;
        }
    </style>
</head>
<body class="flex flex-col h-full select-none">

    <div id="login-layer" class="fixed inset-0 z-[600] flex items-center justify-center bg-black">
        <div class="w-[450px] cyber-border p-10 text-center relative">
            <div class="absolute top-0 left-0 w-full h-1 bg-green-600"></div>
            <i class="fas fa-fingerprint text-6xl mb-6 text-green-700"></i>
            <h2 class="text-2xl font-bold tracking-widest mb-2 uppercase text-white">Cổng An Ninh HPH-SOC</h2>
            <p class="text-[11px] text-green-800 mb-8 italic">Vui lòng xác thực danh tính quản trị viên</p>
            <div class="space-y-5 text-left">
                <input type="password" id="login-pass" class="w-full bg-black border border-green-800 p-3 text-sm text-white outline-none focus:border-green-500 transition text-center" placeholder="ACCESS CODE">
                <button onclick="handleLogin()" class="w-full bg-green-800 hover:bg-green-700 text-white font-bold py-3 text-xs uppercase transition tracking-widest border border-green-600">Xác nhận vân tay</button>
            </div>
            <p id="login-err" class="mt-4 text-[10px] text-red-500 font-bold h-4"></p>
        </div>
    </div>

    <div id="main-dashboard" class="hidden flex flex-col h-full p-1 gap-1 bg-black">
        <header class="h-14 shrink-0 cyber-border flex items-center justify-between px-6 bg-zinc-900/50">
            <div class="flex items-center gap-4">
                <img src="https://upload.wikimedia.org/wikipedia/commons/a/af/Vietnam_Coat_of_Arms.svg" class="h-10 drop-shadow-[0_0_5px_rgba(255,255,255,0.5)]">
                <div>
                    <h1 class="text-sm font-bold text-white uppercase tracking-wider">Hệ Thống Giám Sát An Ninh Thông Minh (IOC)</h1>
                    <div class="flex items-center gap-2 text-[10px]">
                        <span class="text-gray-400 font-bold">KHU VỰC: HẢI PHÒNG</span>
                        <span class="text-green-600">|</span>
                        <span class="text-green-500 font-bold blink">ONLINE SYSTEM</span>
                    </div>
                </div>
            </div>
            <div class="flex items-center gap-6">
                <div class="text-right font-mono">
                    <div class="text-[9px] text-gray-400">SESSION TIMER</div>
                    <div id="session-timer" class="text-xl font-bold text-white">30:00</div>
                </div>
                <button onclick="location.reload()" class="bg-red-900/20 border border-red-600 text-red-500 px-4 py-2 text-[10px] font-bold uppercase hover:bg-red-900/40">Ngắt kết nối</button>
            </div>
        </header>

        <div class="flex-1 flex gap-1 overflow-hidden min-h-0">
            <div class="w-[350px] flex flex-col gap-1 shrink-0 h-full">
                <div class="flex-1 cyber-border flex flex-col overflow-hidden relative">
                    <div class="bg-green-900/20 p-2 border-b border-green-900 flex justify-between items-center shrink-0">
                        <h3 class="text-[10px] font-bold text-green-400 uppercase">Nhật ký truy xuất</h3>
                        <span class="text-[8px] text-red-600 font-bold">ENCRYPTED</span>
                    </div>
                    <div id="log-box" class="flex-1 overflow-y-auto p-2 text-[10px] space-y-1.5 font-mono text-gray-400"></div>
                </div>
                <div class="h-[180px] cyber-border flex flex-col bg-black">
                    <div id="terminal-screen" class="flex-1 p-2 text-[10px] font-mono text-gray-500 overflow-y-auto leading-tight">
                        <div>> Initializing core... OK</div>
                    </div>
                    <div class="p-2 border-t border-green-900 flex items-center bg-zinc-950">
                        <span class="text-green-500 text-[11px] font-bold mr-2">$</span>
                        <input type="text" id="cli-input" class="bg-transparent border-none outline-none text-white text-[11px] w-full font-mono" placeholder="Command...">
                    </div>
                </div>
            </div>

            <div class="flex-1 flex flex-col gap-1 h-full min-w-0">
                <div class="h-10 shrink-0 cyber-border flex items-center px-1 gap-1 bg-black">
                    <button class="tab-btn active flex-1 h-full" onclick="switchTab('ALL', this)">Toàn Thành Phố</button>
                    <button class="tab-btn flex-1 h-full" onclick="switchTab('CORE', this)">Quận Nội Thành</button>
                    <button class="tab-btn flex-1 h-full" onclick="switchTab('SUBURB', this)">Huyện Ngoại Thành</button>
                    <button class="tab-btn flex-1 h-full" onclick="switchTab('PORT', this)">Cảng & Công Nghiệp</button>
                </div>
                <div class="flex-1 cyber-border bg-[#050505] p-2 overflow-hidden">
                    <div id="camera-grid" class="camera-grid-layout h-full"></div>
                </div>
            </div>
        </div>
    </div>

    <div id="gov-modal" class="fixed inset-0 z-[1000] hidden flex items-center justify-center bg-black/95 backdrop-blur-md">
        <div class="gov-paper relative">
            <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 opacity-[0.03] pointer-events-none">
                <img src="https://upload.wikimedia.org/wikipedia/commons/a/af/Vietnam_Coat_of_Arms.svg" class="w-[400px]">
            </div>

            <div class="flex justify-between items-start mb-8 border-b-2 border-black pb-4">
                <div class="text-center w-[48%]">
                    <h3 class="text-[11px] font-bold uppercase">UBND THÀNH PHỐ HẢI PHÒNG</h3>
                    <h2 class="text-[13px] font-bold uppercase text-red-800">SỞ THÔNG TIN VÀ TRUYỀN THÔNG</h2>
                    <div class="w-1/2 h-[1px] bg-black mx-auto my-1"></div>
                    <p class="text-[10px] font-serif italic">Số: 1502/L-STTTT-IOC</p>
                </div>
                <div class="text-center w-[48%]">
                    <h3 class="text-[11px] font-bold uppercase">CỘNG HÒA XÃ HỘI CHỦ NGHĨA VIỆT NAM</h3>
                    <h2 class="text-[13px] font-bold uppercase underline underline-offset-4">Độc lập - Tự do - Hạnh phúc</h2>
                    <p class="text-[10px] font-serif mt-2">Hải Phòng, ngày <span id="cur-day">...</span> tháng <span id="cur-month">...</span> năm 2026</p>
                </div>
            </div>
            
            <h1 class="text-2xl font-bold text-center text-red-700 mb-8 uppercase tracking-[0.1em]" style="font-family: 'Times New Roman', serif;">Lệnh Truy Xuất Dữ Liệu Khẩn Cấp</h1>
            
            <div class="text-[16px] leading-relaxed mb-6 font-serif text-justify px-2">
                <p class="mb-4">Hệ thống ghi nhận yêu cầu truy xuất luồng dữ liệu trực tiếp từ thiết bị giám sát mã số: <strong id="alert-cam-id" class="text-red-700"></strong>.</p>
                <p class="mb-4"><strong>Tên điểm giám sát:</strong> <span id="alert-cam-name" class="font-bold uppercase"></span></p>
                <p class="mb-4"><strong>Vị trí thực tế:</strong> <span id="alert-address" class="italic underline font-bold text-blue-900"></span></p>
                <p>Căn cứ <strong>Nghị định 13/2023/NĐ-CP</strong> và các quy định về an ninh mạng, mọi dữ liệu tại vị trí này đều thuộc danh mục mật. Hành động truy cập được thực hiện bởi nhân sự quản lý cấp cao và đã được ghi lại trên nhật ký hệ thống máy chủ trung tâm.</p>
            </div>

            <div class="bg-gray-100 p-5 border-l-4 border-red-800 text-[12.5px] mb-8 grid grid-cols-2 gap-4 shadow-inner">
                <div>
                    <p class="font-bold text-red-800 uppercase mb-2">Thông tin đơn vị quản lý:</p>
                    <p><strong>Địa chỉ:</strong> Số 62 Võ Thị Sáu, P. Máy Tơ, Q. Ngô Quyền, Hải Phòng</p>
                    <p><strong>Hotline:</strong> 0225.3736.333 (Giờ hành chính)</p>
                    <p><strong>Email:</strong> <span class="text-blue-700 underline">sothongtin@haiphong.gov.vn</span></p>
                </div>
                <div class="text-[11px] italic border-l border-gray-300 pl-4">
                    <p class="font-bold not-italic">Nơi nhận:</p>
                    <p>- Giám đốc Sở (để báo cáo);</p>
                    <p>- Phòng An ninh mạng - CATP;</p>
                    <p>- Trung tâm IOC Thành phố;</p>
                    <p>- Lưu hồ sơ hệ thống.</p>
                </div>
            </div>

            <div class="flex justify-center gap-6 border-t pt-6 border-gray-300">
                <button onclick="closeGovModal()" class="px-10 py-2.5 border border-black font-bold text-xs uppercase hover:bg-gray-100 transition">Hủy lệnh</button>
                <button onclick="closeGovModal()" class="px-10 py-2.5 bg-red-800 text-white font-bold text-xs uppercase shadow-xl hover:bg-red-900 transition ring-2 ring-red-200 ring-offset-2">Xác nhận ghi Log</button>
            </div>
        </div>
    </div>

    <script>
        let currentTab = 'ALL';
        const cameraData = [
            { id: "C01", name: "CẦU BÍNH", addr: "Số 1 đường Bạch Đằng, P. Thượng Lý, Q. Hồng Bàng, Hải Phòng", cat: "CORE" },
            { id: "C02", name: "NHÀ HÁT LỚN", addr: "Số 28 phố Quang Trung, P. Hoàng Văn Thụ, Q. Hồng Bàng, Hải Phòng", cat: "CORE" },
            { id: "C03", name: "NGÃ 6 LẠCH TRAY", addr: "Giao lộ Lạch Tray - Nguyễn Bỉnh Khiêm, Q. Ngô Quyền, Hải Phòng", cat: "CORE" },
            { id: "C04", name: "CẦU RÀO 2", addr: "Đường Võ Nguyên Giáp, P. Vĩnh Niệm, Q. Lê Chân, Hải Phòng", cat: "CORE" },
            { id: "S01", name: "NÚI ĐÈO", addr: "Thị trấn Núi Đèo, huyện Thủy Nguyên, Hải Phòng", cat: "SUBURB" },
            { id: "S02", name: "T.T AN DƯƠNG", addr: "Đường 351, huyện An Dương, Hải Phòng", cat: "SUBURB" },
            { id: "S03", name: "CẦU KHUỂ", addr: "Tỉnh lộ 354, huyện An Lão, Hải Phòng", cat: "SUBURB" },
            { id: "S04", name: "T.T TIÊN LÃNG", addr: "Khu phố huyện, huyện Tiên Lãng, Hải Phòng", cat: "SUBURB" },
            { id: "P01", name: "CẢNG ĐÌNH VŨ", addr: "Khu kinh tế Đình Vũ, Q. Hải An, Hải Phòng", cat: "PORT" },
            { id: "P02", name: "KCN VSIP", addr: "Xã Tân Dương, huyện Thủy Nguyên, Hải Phòng", cat: "PORT" },
            { id: "P03", name: "CẢNG LẠCH HUYỆN", addr: "Đảo Cát Hải, huyện Cát Hải, Hải Phòng", cat: "PORT" },
            { id: "P04", name: "KDL ĐỒ SƠN", addr: "Khu 2, Vạn Hương, Q. Đồ Sơn, Hải Phòng", cat: "PORT" }
        ];

        function createCameraGrid() {
            const grid = document.getElementById('camera-grid');
            grid.innerHTML = '';
            const filtered = currentTab === 'ALL' ? cameraData : cameraData.filter(c => c.cat === currentTab);

            for (let i = 0; i < 12; i++) {
                const cam = filtered[i];
                const div = document.createElement('div');
                div.className = "cam-slot group cursor-crosshair";
                
                if (cam) {
                    div.onclick = () => triggerGovAlert(cam);
                    div.innerHTML = `
                        <div class="absolute inset-0 glitch-bg opacity-10"></div>
                        <div class="absolute top-2 left-2 z-10">
                            <span class="bg-red-700 text-white text-[7px] px-1.5 py-0.5 font-bold mb-1 flex items-center gap-1 w-max">
                                <span class="w-1 h-1 bg-white rounded-full blink"></span> LIVE
                            </span>
                            <span class="text-[8px] text-green-400 font-bold uppercase border-l border-green-500 pl-1 drop-shadow-lg">${cam.name}</span>
                        </div>
                        <div class="absolute inset-0 flex items-center justify-center opacity-20 group-hover:opacity-40 transition">
                            <i class="fas fa-expand text-3xl text-green-900"></i>
                        </div>
                        <div class="absolute bottom-1 right-1 text-[7px] text-zinc-600 font-mono">${cam.id} | BITRATE: 4.2Mbps</div>
                    `;
                } else {
                    div.className = "cam-slot no-signal-overlay opacity-30";
                    div.innerHTML = `<div class="absolute inset-0 flex flex-col items-center justify-center grayscale"><span class="text-[8px] font-bold text-gray-700">NO_SIGNAL</span></div>`;
                }
                grid.appendChild(div);
            }
        }

        function triggerGovAlert(cam) {
            document.getElementById('alert-cam-id').innerText = cam.id;
            document.getElementById('alert-cam-name').innerText = cam.name;
            document.getElementById('alert-address').innerText = cam.addr;
            
            const now = new Date();
            document.getElementById('cur-day').innerText = now.getDate().toString().padStart(2, '0');
            document.getElementById('cur-month').innerText = (now.getMonth() + 1).toString().padStart(2, '0');
            
            document.getElementById('gov-modal').classList.remove('hidden');
            addLog(`CRITICAL: Unauthorized access attempt at ${cam.id}`, 'error');
        }

        function switchTab(cat, btn) {
            currentTab = cat;
            document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
            createCameraGrid();
            addLog(`SYSTEM: Switch focus to region ${cat}`, 'info');
        }

        function addLog(msg, type='info') {
            const box = document.getElementById('log-box');
            const div = document.createElement('div');
            const time = new Date().toLocaleTimeString('vi-VN', {hour12: false});
            div.className = "flex gap-2";
            div.innerHTML = `<span class="text-zinc-600">[${time}]</span><span class="${type==='error'?'text-red-500 font-bold':'text-green-600'}">> ${msg}</span>`;
            box.prepend(div);
        }

        function handleLogin() {
            if(document.getElementById('login-pass').value.length > 0) {
                document.getElementById('login-layer').style.display = 'none';
                document.getElementById('main-dashboard').classList.remove('hidden');
                createCameraGrid();
                setInterval(() => {
                    const timer = document.getElementById('session-timer');
                    let [m, s] = timer.innerText.split(':').map(Number);
                    if(s === 0) { m--; s = 59; } else { s--; }
                    timer.innerText = `${m.toString().padStart(2,'0')}:${s.toString().padStart(2,'0')}`;
                }, 1000);
            }
        }

        function closeGovModal() { document.getElementById('gov-modal').classList.add('hidden'); }
    </script>
</body>
</html>
